[{"C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\index.js":"1","C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\App.js":"2","C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\components\\HomePage\\HomePage.js":"3","C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\components\\ChatRoom\\ChatRoom.js":"4","C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\components\\messages\\Messages.js":"5","C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\components\\Messages\\Messages.js":"6","C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\components\\MessageForm\\MessageForm.js":"7","C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\components\\Messages\\Message.js":"8"},{"size":220,"mtime":1608733584752,"results":"9","hashOfConfig":"10"},{"size":462,"mtime":1608825018176,"results":"11","hashOfConfig":"10"},{"size":1507,"mtime":1609075392303,"results":"12","hashOfConfig":"10"},{"size":1737,"mtime":1609083958865,"results":"13","hashOfConfig":"10"},{"size":159,"mtime":1608822238249,"results":"14","hashOfConfig":"10"},{"size":353,"mtime":1609084695388,"results":"15","hashOfConfig":"10"},{"size":1396,"mtime":1609085232879,"results":"16","hashOfConfig":"10"},{"size":389,"mtime":1609078739312,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1lsskbc",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"20"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\index.js",[],["36","37"],"C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\App.js",[],"C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\components\\HomePage\\HomePage.js",[],"C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\components\\ChatRoom\\ChatRoom.js",["38"],"import { Fragment, useEffect, useState } from 'react';\r\nimport IOClient from 'socket.io-client';\r\nimport queryString from 'query-string';\r\n\r\n\r\nimport Messages from '../Messages/Messages';\r\nimport MessageForm from '../MessageForm/MessageForm';\r\n\r\nconst SERVER_URL = 'http://127.0.0.1:5000';\r\n\r\nlet socket;\r\n\r\nconst ChatRoom = ({ location, history }) => {\r\n  const [name, setName] = useState('');\r\n  const [room, setRoom] = useState('');\r\n  const [roomUsers, setRoomUsers] = useState([])\r\n  const [message, setMessage] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    const { name, room } = queryString.parse(location.search);\r\n    socket = IOClient(SERVER_URL, {wsEngine: 'ws'});\r\n\r\n    setName(name);\r\n    setRoom(room);\r\n\r\n    socket.emit('join', { name, room }, (err) => {\r\n      history.push('/');\r\n      alert('Error! ' + err)\r\n    });\r\n    return () => {\r\n      socket.disconnect()\r\n      socket.off();\r\n    };\r\n  }, [location.search,history]);\r\n\r\n  useEffect(() => {\r\n    socket.on('message', (message) => {\r\n      setMessages(messages => [ ...messages, message ]);\r\n      console.log(1)\r\n    });\r\n  }, []);\r\n\r\n  useEffect(()=> {\r\n    socket.on('roomUsers', (users) => {\r\n      setRoomUsers([users.roomUsers])\r\n    })\r\n  },[])\r\n  \r\n  const sendMessageHandler = (e) => {\r\n    e.preventDefault();\r\n    if (message) {\r\n      socket.emit('sendMessage', message, () => {\r\n        setMessage('');\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MessageForm message={message} room={room} users={roomUsers} onChange={setMessage} clicked={sendMessageHandler}>\r\n        <Messages messages={messages} />\r\n      </MessageForm>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ChatRoom;\r\n","C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\components\\messages\\Messages.js",[],"C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\components\\Messages\\Messages.js",[],"C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\components\\MessageForm\\MessageForm.js",[],"C:\\WEB\\Mern\\projects\\chap-app\\client\\src\\components\\Messages\\Message.js",[],{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","severity":1,"message":"44","line":14,"column":10,"nodeType":"45","messageId":"46","endLine":14,"endColumn":14},"no-native-reassign",["47"],"no-negated-in-lhs",["48"],"no-unused-vars","'name' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]